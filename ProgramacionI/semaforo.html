<html>
    <head>
        <link
            href="https://cdn.simplecss.org/simple.css"
            rel="stylesheet"
        />
        <style>
        body {
            background-image: linear-gradient( 45deg, black, skyblue )
        }
        </style>
        <meta charset="UTF-8">
    </head>

    <body>
        <header>
            <h1>
                Semáforo
            </h1>
            <button id="idBotonReiniciar" >
                Actualizar
            </button>
            <button id="idBotonActivarSemaforo" >
                Activar semáforo
            </button>
            <button id="idBotonDetenerSemaforo" >
                Detener
            </button>
            
        </header>
        <main >
            <!--svg viewBox="0 0 800 600" height="80vh">
            <g>
                <title>Layer 1</title>
                <rect id="g" x="152" y="533" width="76" height="95" fill="#fff" stroke="#000"/>
                <g fill="#fff" stroke="#000">
                    <path id="a" d="m295.79 566.88 10.234-74.268 40.934-18.567-51.168 92.835h-255.83v-557h307v464.16"/>
                    <path fill="#C00" id="idEstrella" d="m102.64 86.362h66.081l20.419-46.6 20.419 46.6h66.081l-53.46 28.8 20.42 46.6-53.46-28.801-53.46 28.801 20.42-46.6-53.46-28.8z"/>
                    <path fill="darkorange" id="idCirculo" d="m102.64 282.87c0-40.869 37.832-74 84.5-74 22.411 0 43.904 7.7964 59.75 21.674 15.847 13.878 24.749 32.7 24.749 52.326 0 40.869-37.832 74-84.5 74-46.668 0-84.5-33.131-84.5-74zm42.25 0c0 20.435 18.916 37 42.25 37 23.334 0 42.25-16.565 42.25-37s-18.916-37-42.25-37c-23.334 0-42.25 16.565-42.25 37z"/>
                    <path fill="darkgreen" id="idCorazon" d="m188.1 434.93c31.128-76.194 153.09 0 0 97.964-153.09-97.964-31.128-174.16 0-97.964z"/>
                    <path id="f" d="m211.22 475.12c-2.8679-3.3993-6.3767-6.1513-9.8962-8.0765-4.1067 1.9733-9.1084 3.1749-14.561 3.1749-5.4636 0-10.472-1.204-14.572-3.1749-3.5195 1.9252-7.0318 4.6772-9.9068 8.0765-6.6738 7.8921-7.4078 15.987-1.6435 18.086 2.5815 0.94554 5.2882 0.24079 8.0845-1.527-0.49051 1.7924-0.77696 3.7352-0.77696 5.7673 0 9.028 5.3455 16.341 11.933 16.341 3.9707 0 5.9363-2.6628 6.8814-6.7399 0.94168 4.077 2.9073 6.7399 6.8635 6.7399 6.5986 0 11.944-7.313 11.944-16.341 0-2.0321-0.28654-3.9748-0.78771-5.7673 2.8034 1.7678 5.5065 2.4725 8.0952 1.527 5.7608-2.099 5.016-10.194-1.6577-18.086zm-24.465-7.9814c11.085 0 20.075-5.8988 20.075-13.175s-8.9902-13.175-20.075-13.175c-11.088 0-20.086 5.9-20.086 13.175s8.9974 13.175 20.086 13.175z"/>
                </g>
            </g>
            </svg-->
            <svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
                
                <g id="Layer_1">
                    <title>Layer 1</title>
                    <ellipse ry="205.5" rx="146" id="svg_1" cy="299.5" cx="350" stroke="#000" fill="#EEFF9F"/>
                    <ellipse id="idEstrella" ry="46.5" rx="70.5" id="svg_2" cy="207.5" cx="347.5" stroke="#000" fill="#482816"/>
                    <ellipse id="idCirculo" ry="46.5" rx="70.5" id="svg_3" cy="329.5" cx="351.5" stroke="#000" fill="#B8874D"/>
                    <ellipse id="idCorazon" ry="46.5" rx="70.5" id="svg_4" cy="439.5" cx="352.5" stroke="#000" fill="#1F361B"/>
                </g>
            </svg>
            
        </main>
        <footer >
            <h3>
                &amp;copy; 2023
            </h3>
        </footer>
        
        <script >
            
            var _timer = null ; // variable global
            
            idBotonActivarSemaforo.onclick = fnComenzar ;
            idBotonDetenerSemaforo.onclick = fnDetener ;
            
            idBotonReiniciar.onclick = fnReiniciar;
            function  fnReiniciar(){
                console.log("Reiniciando semáforo");
                location.reload();
                return;
            }
                        
            function fnComenzar(){
                console.log("Comenzando el semáforo");
                _timer = setTimeout(fnARojo1, 0);
                return;
            }
            
            function fnARojo1(){
                console.log("Prendiendo luz roja");
                idEstrella.style.fill = "red";
                idCirculo.style.fill = "";
                //fnAAmarillo1(); No quiero ahora
                _timer = setTimeout(fnAAmarillo1, 2*1000);
                return;
            }
            
            function fnAAmarillo1(){
                console.log("Prendiendo luz amarilla");
                idCirculo.style.fill = "yellow";
                idEstrella.style.fill = "";
                //fnAAmarillo1(); No quiero ahora
                _timer = setTimeout(fnAVerde1, 2*1000);
                return;
            }
            
            function fnAVerde1(){
                console.log("Prendiendo luz verde");
                idCorazon.style.fill = "green";
                idCirculo.style.fill = "";
                //fnAAmarillo1(); No quiero ahora
                _timer = setTimeout(fnAAmarillo2, 2*1000);
                return;
            }
            
            function fnAAmarillo2() {
                console.log("Prendiendo luz amarilla");
                idCirculo.style.fill = "yellow";
                idCorazon.style.fill = "";
                //fnAAmarillo1(); No quiero ahora
                _timer = setTimeout(fnARojo1, 2*1000);
                return;
            }
            
            idBotonDetenerSemaforo.onclick = fnDetener;
            function fnDetener(){
                console.log("Apagando luces");
                clearTimeout(_timer);
                fnApagarLuces();
                return;
            }


            function fnApagarLuces() {
                idEstrella.style.fill = "";
                idCirculo.style.fill = "";
                idCorazon.style.fill = "";
            }
            
            // Para definir un tiempo fuera...
            // setTimeout( dadoNombreFuncion, tiempoDeEsperarEnMilimetros ) -> devuelve un número
            // _timer = setTimeout( fnFuncion1, 3000 ) ;
            // Para luego cancelarlo, si no lo quiero, de la siguiente manera
            // clearTimeout( _timer ) ;
            
        </script>
    </body>
</html>